import pygame

# initscr();
pygame.init()

# initial values of window dimensions
SCREEN_WIDTH = 1000
SCREEN_HEIGHT = 650 # max height for background.png is 650 for paint reasons i assume 

window = pygame.display.set_mode((SCREEN_WIDTH, SCREEN_HEIGHT))

# loads the background image
background = pygame.image.load("background.png")

# loads the tank image
L_tank_sprite_1 = pygame.image.load("tankSprite.png")
L_tank_sprite_2 = pygame.image.load("tankSprite.png")

# scales the tank image
L_tank_sprite_1 = pygame.transform.scale(L_tank_sprite_1, (100, 100))
L_tank_sprite_2 = pygame.transform.scale(L_tank_sprite_2, (100, 100))

# for going left
R_tank_sprite_1 = pygame.transform.flip(L_tank_sprite_1, True, False)
R_tank_sprite_2 = pygame.transform.flip(L_tank_sprite_2, True, False)

tank_1_left = True
tank_1_right = False

tank_2_left = True
tank_2_right = False

pygame.display.set_caption("Tanks")
  
# position of tank 
x_tank1 = 0
y_tank1 = 400
x_tank2 = 600
y_tank2 = 400
  
# dimensions of tank 
width_tank = 80
height_tank = 50
  
# sensitivity to key input
speed_tank1 = 2
speed_tank2 = 2
  
# when the program is running
running = True
  
# this loop runs as long as Tanks is running 
while running:

    # outputs background to screen
    window.blit(background, (0, 0))

    # 10ms delay between reading of inputs
    # otherwise would move too fast
    pygame.time.delay(10) 

    # checking if alt+f4 or top right X 
    for event in pygame.event.get():
        if event.type == pygame.QUIT: 
            running = False

    keys = pygame.key.get_pressed()

    # and statement prevents out of bounds

    # movement of tank1
    if (keys[pygame.K_LEFT]) and (x_tank1 > 0) and (x_tank1 - width_tank - speed_tank1 != x_tank2):
        x_tank1 -= speed_tank1
        tank_1_left = True
        tank_1_right = False
    if (keys[pygame.K_RIGHT]) and (x_tank1 < (SCREEN_WIDTH - width_tank)) and (x_tank1 + width_tank + speed_tank1 != x_tank2) :
        x_tank1 += speed_tank1
        tank_1_right = True
        tank_1_left = False

    # movement of tank2
    if (keys[pygame.K_a]) and (x_tank2 > 0) and (x_tank2 - width_tank - speed_tank1 != x_tank1):
        x_tank2 -= speed_tank2
        tank_2_left = True
        tank_2_right = False
    if (keys[pygame.K_d]) and (x_tank2 < (SCREEN_WIDTH - width_tank)) and (x_tank2 + width_tank + speed_tank1 != x_tank1):
        x_tank2 += speed_tank2
        tank_2_right = True
        tank_2_left = False

    # drawing tank onto the window
    # window, colour, coordinates of tank and dimensions of tank 

    # tank1
    if (tank_1_left):
        window.blit(L_tank_sprite_1, (x_tank1, y_tank1))
    if (tank_1_right):
        window.blit(R_tank_sprite_1, (x_tank1, y_tank1))

    # tank2
    if (tank_2_left):
        window.blit(L_tank_sprite_2, (x_tank2, y_tank2))
    if (tank_2_right):
        window.blit(R_tank_sprite_2, (x_tank2, y_tank2))
    
    # refresh();
    pygame.display.update() 

pygame.quit()
